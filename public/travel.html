<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script data-noptimize="1" data-cfasync="false" data-wpfc-render="false">
    (function () {
        var script = document.createElement("script");
        script.async = 1;
        script.src = 'https://emrldtp.cc/NDg3NDU2.js?t=487456';
        document.head.appendChild(script);
    })();
  </script>
  <title>Travel Promos — TradeTrends Deals</title>
  <meta name="description" content="Travel promos and booking offers, curated for quick comparisons." />
  <meta name="theme-color" content="#0b0f14" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tradetrend.netlify.app/travel.html" />
  <meta property="og:title" content="Travel Promos — Hotels, Flights & Travel Deals" />
  <meta property="og:description" content="Curated travel deals and booking offers. Hotels, flights, and travel gear worth bookmarking." />
  <meta property="og:image" content="https://tradetrend.netlify.app/assets/img_0358.webp" />
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://tradetrend.netlify.app/travel.html" />
  <meta name="twitter:title" content="Travel Promos — Hotels, Flights & Travel Deals" />
  <meta name="twitter:description" content="Curated travel deals and booking offers. Hotels, flights, and travel gear worth bookmarking." />
  <meta name="twitter:image" content="https://tradetrend.netlify.app/assets/img_0358.webp" />
  
  <!-- Canonical -->
  <link rel="canonical" href="https://tradetrend.netlify.app/travel.html" />
  <link rel="preconnect" href="https://images.unsplash.com">
  <link rel="stylesheet" href="/css/styles.css" />
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>

<header class="header">
  <div class="container">
    <div class="nav">
      <a class="brand" href="/">
        <span class="logo" aria-hidden="true"></span>
        <span>TradeTrends Deals</span>
      </a>
      <nav class="navlinks" aria-label="Primary">
        <a class="pill" href="/#amazon">Amazon</a>
        <a class="pill" href="/#travel">Travel</a>
        <a class="pill" href="/amazon.html">Amazon page</a>
        <a class="pill" href="/travel.html">Travel page</a>
        <a class="pill" id="adminLink" href="/admin/" style="display:none;">Admin</a>
      </nav>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <div class="card heroMain">
      <div class="kicker"><span class="dot" aria-hidden="true"></span> Travel-only</div>
      <h1 class="h1">Travel promos</h1>
      <p class="sub">Booking, bundles, and travel gear—built for Pinterest clicks and fast decisions.</p>
      <div class="heroCtas">
        <a class="btn" href="/#travel">Back to hub</a>
        <a class="btn" id="adminDashLink" href="/admin/" style="display:none;">Admin dashboard</a>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="sectionHeader">
      <div>
        <h2>Browse</h2>
        <p>Search and filter to match your travel pins.</p>
      </div>
      <div class="filters">
        <input class="input" id="travSearch" placeholder="Search travel promos…" inputmode="search" />
        <select id="travCategory" aria-label="Travel categories"></select>
      </div>
    </div>
    <div class="grid" id="travGrid" aria-live="polite"></div>
  </section>
</main>

<script src="/js/render.js?v=2"></script>
<script>
  TT.initSection({
    container: "#travGrid",
    search: "#travSearch",
    category: "#travCategory",
    json: "/data/travel.json",
    kind: "travel"
  });
</script>

<footer class="footer">
  <div class="container">
    <div class="notice">
      <b>Affiliate disclosure:</b> Some links on this site are affiliate links. If you click and purchase, we may earn a commission at no extra cost to you.
      <div style="height:8px"></div>
      <span class="small">Tip: For best results on Pinterest, link your pins to a relevant section (Amazon or Travel) or to the dedicated category page.</span>
    </div>
    <div style="height:14px"></div>
    <div class="small">© <span id="y"></span> TradeTrends Deals • Built for speed on Netlify</div>
  </div>
</footer>
<script>
  document.getElementById('y').textContent = new Date().getFullYear();
  
  // Check if user is admin and show admin links
  function checkAdminAccess() {
    const adminLink = document.getElementById('adminLink');
    const adminDashLink = document.getElementById('adminDashLink');
    
    // Check if in dev mode
    const hostname = window.location.hostname;
    const isDevMode = hostname === 'localhost' || 
                      hostname.includes('127.0.0.1') ||
                      hostname.includes('app.github.dev') ||
                      hostname.includes('gitpod.io') ||
                      hostname.includes('codespaces');
    
    // Show admin links in dev mode OR for logged-in admin users
    if (isDevMode) {
      if (adminLink) adminLink.style.display = 'inline-flex';
      if (adminDashLink) adminDashLink.style.display = 'inline-flex';
      return;
    }
    
    if (window.netlifyIdentity) {
      const user = netlifyIdentity.currentUser();
      if (user) {
        const roles = user.app_metadata?.roles || [];
        if (roles.includes('admin')) {
          if (adminLink) adminLink.style.display = 'inline-flex';
          if (adminDashLink) adminDashLink.style.display = 'inline-flex';
          return;
        }
      }
    }
    if (adminLink) adminLink.style.display = 'none';
    if (adminDashLink) adminDashLink.style.display = 'none';
  }
  
  // Initialize Netlify Identity
  if (window.netlifyIdentity) {
    netlifyIdentity.on('init', checkAdminAccess);
    netlifyIdentity.on('login', checkAdminAccess);
    netlifyIdentity.on('logout', () => {
      const adminLink = document.getElementById('adminLink');
      const adminDashLink = document.getElementById('adminDashLink');
      if (adminLink) adminLink.style.display = 'none';
      if (adminDashLink) adminDashLink.style.display = 'none';
    });
    netlifyIdentity.init();
  }
</script>
</body>
</html>
